<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title> a11_tableAction2 </title>
<script type="text/javascript">
/*

 */


</script>
</head>
<body>
	<h2> 사과 </h2>
	<table border></table>
	
	구매할 과일명을 입력 :
	<input type="text" id="inFruit"/>
	<input type="button" id="buyBtn" value="구매"/>
	<table width="300" height="300" border>
	</table>
</body>
<script type="text/javascript">
/*
 ex) '사과구매' 클릭 시, 구매한 물건 출력 3X3에 채워지게 처리.
 	 사과1	사과2	사과3
 	 사과4	사과5	사과6
 	 사과7	사과8	사과9
 */
 
	var h2Obj = document.querySelector("h2");
	var tab01 = document.querySelector("table");
	var clickCnt=1;
	h2Obj.onclick=function() {
		var show = "";
		for(var cnt=1; cnt<=clickCnt; cnt++) {
			if(cnt%3==1) {
				show += "<tr>";
			}
			show += "<td><h3> 사과 [" + clickCnt + "] </h3>";
			show += "<img src='apple.jpg' width='100' height='100'/></td>";
			if(cnt%3==0) {
				show += "</tr>";
			}
		}
		console.log(show);
		clickCnt++;
		tab01.innerHTML = show;
	};
	
	var buyBtn = document.querySelector("#buyBtn");
	var inFruit = document.querySelector("#inFruit");
	var tab = document.querySelector("table");
	var clickCnt=1;
	var fruits = []; // 입력한 데이터를 누적해서 가지고 있기 위해 처리.
	buyBtn.onclick=function() {
		// 입력한 과일명을 fruits의 0부터 시작하는 index로 배열에 할당.
		fruits[clickCnt-1] = inFruit.value;
		var show = "";
		for(var cnt=1; cnt<=clickCnt; cnt++) {
			// 3X3 열이 3개 단위로 처리
			if(cnt%3==1) {
				show += "<tr>";
			}
			// 입력한 데이터를 출력 처리 (cnt는 1부터, 배열의 index는 0부터)
			show += "<td>" + fruits[cnt-1] + " [" + cnt + "]" + "</td>";
			if(cnt%3==0) {
				show += "</tr>";
			}
		}
		console.log(show);
		tab.innerHTML = show;
		clickCnt++;
	}

</script>
</html>